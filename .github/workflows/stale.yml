name: Stale Issues and PRs

on:
  schedule:
    # æ¯å¤©å‡Œæ™¨ 1 ç‚¹è¿è¡Œ
    - cron: '0 1 * * *'
  workflow_dispatch:

permissions:
  issues: write
  pull-requests: write

jobs:
  stale:
    runs-on: ubuntu-latest
    steps:
      - name: Mark stale issues and PRs
        uses: actions/stale@v10
        with:
          repo-token: ${{ secrets.GITHUB_TOKEN }}
          
          # Issue è®¾ç½®
          stale-issue-message: |
            ğŸ‘‹ è¿™ä¸ª issue å·²ç» 30 å¤©æ²¡æœ‰æ´»åŠ¨äº†ã€‚
            å¦‚æœè¿™ä¸ªé—®é¢˜ä»ç„¶ç›¸å…³ï¼Œè¯·å›å¤æ­¤è¯„è®ºã€‚
            å¦åˆ™ï¼Œå°†åœ¨ 7 å¤©åè‡ªåŠ¨å…³é—­ã€‚
          close-issue-message: |
            ğŸ”’ ç”±äºé•¿æ—¶é—´æ²¡æœ‰æ´»åŠ¨ï¼Œæ­¤ issue å·²è‡ªåŠ¨å…³é—­ã€‚
            å¦‚éœ€é‡æ–°æ‰“å¼€ï¼Œè¯·è¯„è®ºè¯´æ˜ã€‚
          days-before-stale: 30
          days-before-close: 7
          stale-issue-label: 'stale'
          exempt-issue-labels: 'pinned,security,bug,enhancement'
          
          # PR è®¾ç½®
          stale-pr-message: |
            ğŸ‘‹ è¿™ä¸ª PR å·²ç» 14 å¤©æ²¡æœ‰æ´»åŠ¨äº†ã€‚
            å¦‚æœæ‚¨è¿˜åœ¨ç»§ç»­å·¥ä½œï¼Œè¯·æ›´æ–°æ­¤ PRã€‚
            å¦åˆ™ï¼Œå°†åœ¨ 7 å¤©åè‡ªåŠ¨å…³é—­ã€‚
          close-pr-message: |
            ğŸ”’ ç”±äºé•¿æ—¶é—´æ²¡æœ‰æ´»åŠ¨ï¼Œæ­¤ PR å·²è‡ªåŠ¨å…³é—­ã€‚
            å¦‚éœ€é‡æ–°æ‰“å¼€ï¼Œè¯·è¯„è®ºè¯´æ˜ã€‚
          days-before-pr-stale: 14
          days-before-pr-close: 7
          stale-pr-label: 'stale'
          exempt-pr-labels: 'pinned,security,work-in-progress'
          
          # å…¶ä»–è®¾ç½®
          operations-per-run: 100
          remove-stale-when-updated: true
          ascending: true
